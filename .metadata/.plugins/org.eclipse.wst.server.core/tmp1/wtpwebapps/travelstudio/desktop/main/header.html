<style>
body {
	margin: 0;
}

.header {
	width: 1015px;
	height: 80px;
	background-color: white;
	margin: auto;
	position: relative;
}

.header-container {
	padding: 20px 0;
	height: 120px;
	box-sizing: border-box;
}

.headeLogo {
	width: 225px;
	height: 80px;
	background-image: url('/image/ourlogo.png');
	display: inline-block;
}

.start-my-journey {
	border: 1px solid black;
	width: 140px;
	height: 40px;
	border-radius: 20px;
	background-color: white;
	font-size: 17px;
	position: absolute;
	margin-left: 630px;
	margin-top: 20px;
}

#search_icon {
	background-color: white;
	border: none;
	position: absolute;
	margin-left: 400px;
	margin-top: 25px;
}

#search_bar {
	border: 1px solid white;
	border-bottom: 1px solid gray;
	font-size: 25px;
	font-weight: 600;
	width: 240px;
	height: 40px;
	position: absolute;
	margin-left: 150px;
	margin-top: 20px;
	padding: 0 0 0 5px;
}

#slide_icon {
	display: none;
}

/*슬라이드 바 전체*/
.slide_bar {
	background-color: white;
	width: 320px;
	height: 100%;
	position: fixed;
	left: -320px;
	top: 0px;
	z-index: 999;
}

/* 슬라이드 바 취소 버튼*/
.slide_bar_cancel {
	padding: 10px 0;
}

.icon_wrap {
	display: inline-block;
}

#cancel_icon {
	float: right;
	padding-right: 15px;
	display: inline-block;
}

#cancel_icon, #slide_icon:hover {
	cursor: pointer;
}

#slide_icon {
	float: none;
	display: none;
}
/*슬라이드 바 취소 버튼 끝  */

/*슬라이드 바 전체 컨텐츠 div*/
.member_slide {
	width: 100%;
	margin: 20px 0;
}

.member_slide .member_info {
	position: relative;
	width: 100%;
	height: 100%;
}

.member_slide .member_info .user_photo {
	position: relative;
	padding: 30px 0;
	text-align: center;
}

.member_slide .member_info .user_photo img {
	width: 100px;
	height: 100px;
	border-radius: 100%;
}

.member_slide .member_info .user_id {
	text-align: center;
}

.member_slide .member_info .user_url {
	text-align: center;
	color: gray;
}

.member_slide .member_info .user_mypage {
	text-align: center;
	background-color: #4a4a4a;
	width: 150px;
	height: 35px;
	color: white;
	border-radius: 30px;
	margin: 30px auto 0;
	vertical-align: center;
	font-size: 80%;
	cursor: pointer;
}

.user_mypage {
	line-height: 35px;
}

#subscribe {
	border: 2px solid #4a4a4a;
	text-align: center;
	background-color: white;
	width: 150px;
	height: 35px;
	color: #4a4a4a;
	border-radius: 30px;
	margin: 12px auto 0;
	vertical-align: center;
	font-size: 80%;
	text-align: center;
	padding-top: 5px;
	font-weight: bold;
	cursor: pointer;
}

.user_nation {
	text-align: center;
	margin-top: 20px;
	list-style: none;
	padding-top: 2px;
	overflow: hidden;
}

.user_nation li {
	width: 20px;
	display: inline-block;
}

.user_nation img {
	display: inline-block;
	height: 36px;
	border-radius: 100%;
	vertical-align: middle;
}

.user_visited {
	width: 210px;
	font-weight: 600;
	font-size: 18px;
	color: #767676;
	text-align: center;
	margin: 25px auto 0;
	padding-bottom: 30px;
}

.user_visited .user_write {
	display: inline-block;
	width: 100px;
	height: 50px;
}

.user_visited .user_visited_count {
	display: inline-block;
	width: 100px;
}

.counting {
	display: block;
	margin-top: 10px;
	font-size: 130%;
	color: black;
}

#numberOfFlag {
	width: 50px;
	font-size: 30px;
	border: none;
	margin-left: 5px;
}

#numOfPost {
	width: 50px;
	font-size: 30px;
	border: none;
	margin-left: 32px;
}

.slide_bar_classify {
	width: 80%;
	color: #d2d2d2;
	margin-bottom: 30px;
}

.slide_bar_menu {
	position: relative;
}

/*슬라이드 메뉴 끝*/

/*슬라이드 메뉴 호출시 화면 커버*/
.cover_dimmed {
	background-color: #000;
	opacity: 0.5;
	z-index: 990;
	width: 100%;
	height: 100%;
	position: fixed;
	display: none;
	top: 0px;
}

.slide_bar_menu div {
	width: 100%;
	text-align: center;
	margin-bottom: 20px;
	color: #aaa;
}

.slide_bar_menu div:hover {
	cursor: pointer;
	color: lightblue;
}
</style>

<div class="slide_bar">
	<div class="slide_bar_cancel">
		<a href="#"><img src="/image/cancel.png" id="cancel_icon"></a>
	</div>

	<!-- 슬라이드 메뉴바 호출 -->
	<div class="slide_bar_content"></div>
	<!-- 슬라이드 메뉴바 호출 끝 -->

</div>
<div class="cover_dimmed"></div>


<div class="header">

	<img src="/image/slidecall.png" id="slide_icon">
	<div class="headeLogo"></div>
	<input type="search" id="search_bar" placeholder="검색">
	<button id="search_icon" class="fa fa-search fa-2x" aria-hidden="true"></button>
	<button type="button" class="start-my-journey">시작 하기</button>

</div>

<script id="tbody-template4" type="text/x-handlebars-template">
	<div class="member_slide">
		<div class="member_info">
			<div class="user_photo">
				<img src="{{path}}">
			</div>
			<div class="user_id">{{alias}}</div>
			<div class="user_url">{{email}}</div>

			
				<div class="user_mypage">마이페이지</div>
				<div id="subscribe">구독</div>
			<div class="user_nation"></div>

			<div class="user_visited">
				<div class="user_write">
					<img src="/image/textbook.png" alt=""><span>여행기</span>
					<div class="counting1"></div>
				</div>
				<div class="user_visited_count">
					<img src="/image/aeroplane.png" alt=""><span>여행국가</span>

					<div class="counting2"></div>
				</div>
			</div>
			<hr class="slide_bar_classify">

			<div class="slide_bar_menu">
					<div class="find_pwd-btn">비밀번호 변경</div>
					<div>탈퇴하기</div>
					<div class="logout-btn">로그아웃</div>
					<div>공지사항</div>
			</div>
		</div>
	</div>
</script>

<script>


// 마이페이지 버튼
$(document).on("click",'.user_mypage',function(){
	location.href="/desktop/mypage/mypage.html"
})

// 비밀번호 변경 버튼
$(document).on("click",'.find_pwd-btn',function(){
  location.href="/desktop/login/find_pwd.html"
})

// 구독하기 버튼
$(document).on("click",'#subscribe',function(){
		location.href="/desktop/subscribe/subscribe.html"
})

// 로그아웃 버튼
$(document).on("click",'.logout-btn',function(){
  $.getJSON('/auth/logout.json', function(result) {
    location.reload()
  })
})

// 슬라이더 나오는 버튼

$(document).on("click",'#slide_icon' ,function(){
  $('.slide_bar').animate({left:0}, 350);
  $('.cover_dimmed').show();
})

// cancel_icon 버튼

$(document).on("click",'#cancel_icon' ,function(){
  $('.slide_bar').animate({left:-320}, 350);
  $('.cover_dimmed').hide();
})

$(document).on("click",'.cover_dimmed' ,function(){
  $('.slide_bar').animate({left:-320}, 350);
  $('.cover_dimmed').hide();
})

var loginMemberNo =0;
$.getJSON('/member/header.json', function(result) {
	console.log("loginMember")
	console.log(result.data.loginMember)
	loginMemberNo=result.data.loginMember.mno;
	mno=result.data.loginMember;
	if(mno!=undefined){

		      if(location.href.indexOf('inner_article') != -1){
		     	 var no = location.href.split('?')[1].split('=')[1]
		     	 $.post('/cowork/searchcoworker.json', {'no': no}
		     	 ,function(result) {
		     	 		console.log(result)
		     	 		for(i=0;i<result.data.list.length;i++){
		     	 			console.log("asdsadsad",result.data.list[i].mno)
		     	 			 if(result.data.list[i].mno==loginMemberNo && result.data.list[i].confirm==1){
			     				console.log(result.data.list[i].mno)
			     				$('#slide_icon').css('display','inline-block');
			     				$(".start-my-journey").text("여행기수정");
			     				$('.start-my-journey').off('click');
			     				$('.start-my-journey').click(function(){
			     				   location.href="/desktop/article/edit.html?postno="+no})
			     	 		} 
		     	 		}
		     	 		console.log("searchCoworker" + result)
		     	 },'json')
		     	 
		     	 $.post('/post/info1.json',{'number': no}
		     			,function(result){
		     			if(result.data.info[0].mno==loginMemberNo){
		     				console.log(result.data.info.mno)
		     				$('#slide_icon').css('display','inline-block');
		     				$(".start-my-journey").text("여행기수정");
		     				$('.start-my-journey').off('click');
		     				$('.start-my-journey').click(function(){
		     				   location.href="/desktop/article/edit.html?postno="+no})
		     	 		}
		     		})
		     			
		     	}else {
		         $('#slide_icon').css('display','inline-block');
		         $(".start-my-journey").text("여행기작성");
		         $('.start-my-journey').off('click');
		         $('.start-my-journey').click(function(){
		            location.href="/desktop/article/write.html"
		         })
		      } 
		 
		
	} else {
    $('.headeLogo').css('margin-left', '32px');
		$('.start-my-journey').off('click');
		$('.start-my-journey').click(function(){
		   location.href="/desktop/login/login.html"
		})
		return
	} 

	
    var template = Handlebars.compile($('#tbody-template4').html())
    var generatedHTML = template(result.data.loginMember) // 템플릿 함수에 데이터를 넣고 HTML을 생성한다.
    $('.slide_bar_content').append(generatedHTML) // 새 tr 태그들로 설정한다.
    
})
     
     
     
</script>


