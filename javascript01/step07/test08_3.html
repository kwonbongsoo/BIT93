<!DOCTYPE html> <!--  DOM API 사용법 -->
<!--

-->
<html>
  <head>
    <meta charset="UTF-8">
    <title>HTML!</title>

  </head>
  <body>
    <button id="btn1" type="button">버튼1</button>
    <button id="btn2" type="button">버튼2</button>

<script>
/* 사용자 정의 이벤트를 발생시키기
=> HTML과 JavaScript에서 정의된 이벤트가 아닌
   개발자가 임의로 정의한 이벤트를 발생시킬 수 있다.
=> 또한 그 이벤트 객체에 데이터를 추가하여 전달할 수 있다.
=> 사용자 정의 이벤트를 만드는 방법
1) 단순한 이벤트를 만들 때
var myevent = new Event('이벤트명')

2) 이벤트에 값을 저장하고 싶을 때
var myevent = new CustomEvent('이벤트명', {detail: 값})
*/
  var btn1 = document.querySelector('#btn1');
  var btn2 = document.querySelector('#btn2');


btn1.addEventListener('click',function(event) {
  //1) 발생시킬 이벤트 객체를 준비한다.
  // => MouseEvent 중에서 click 이벤트를 준비해보자!
  var ce = new CustomEvent('okok',{detail : {name: '홍길동', age: 20, working:false}})

  //2)
  btn2.dispatchEvent(ce)
})
btn2.addEventListener('okok',function(event) {
  console.log(event)
  console.log(event.detail.name)
  console.log(event.detail.age)
  console.log(event.detail.working)
  console.log('버튼2 눌럿다')
})
/* 이것은 태그에서 onclick 속성으로 등록된 코드를 덮어쓴다. 하나밖에 안써진다 */



</script>

</body>
